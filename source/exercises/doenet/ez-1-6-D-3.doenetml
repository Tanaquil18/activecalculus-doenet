<!-- **********************************************************************-->
<!-- Copyright 2012-2025                                                   -->
<!-- Matthew Boelkins                                                      -->
<!--                                                                       -->
<!-- This file is part of Active Calculus.                                 -->
<!--                                                                       -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the Creative Commons BY-SA license.  The work      -->
<!-- may be used for free by any party so long as attribution is given to  -->
<!-- the author(s), the work and its derivatives are used in the spirit of -->
<!-- "share and share alike".  All trademarks are the registered marks of  -->
<!-- their respective owners.                                              -->
<!-- **********************************************************************-->
 
<!-- A version of this exercise was written/shared at the May 2022 Doenet workshop -->
<!-- https://www.doenet.org/publiceditor/_MXwYH1UrrsIZtr6TcpiNo/_BUfDyNPeg2QePPLqJc7cK -->
<!-- the original version was only for graphing the first derivative (of a different cubic) -->

<setup>

  <function name="f">-(x-1)+(x-1)^3/27 - 0.5</function>
  <derivative name="fP">$f</derivative>
  <derivative name="fPP">$fP</derivative>
  <math name="one" simplify="full" >1</math>
  <math name="thezeros" simplify="full"  unordered="true">-3,3</math>
  <math name="zero" simplify="full" >0</math>

</setup>

<p>
  Sketch an approximate graph of the first and second derivatives of the given function <m>f(x)</m>. 
</p>
<p> To do so, drag the red points so that they lie on the graph of <m>f'(x)</m> in such a way that it makes the red curve become the graph of <m>f'(x)</m>.  Then, after successfully graphing <m>f'(x)</m>, reason similarly to sketch <m>f''(x)</m>, using the orange points.
</p>

<graph aspectRatio="2/1" xmin="-6.5" xmax="6.5" ymin="-3" ymax="3" grid showNavigation="false">

  $f
  <label anchor="(-4,-2.3)">
    <m>y = f(x)</m>
  </label>  

  <point name="p1" stylenumber="2" x="-2" y="2">
    <constraints><attractToGrid /></constraints>
  </point>

  <point name="p2" stylenumber="2" x="0" y="2">
    <constraints><attractToGrid /></constraints>
  </point>

  <point name="p3" stylenumber="2" x="2" y="2">
    <constraints><attractToGrid /></constraints>
  </point>

  <parabola name="deriv" through="$p1 $p2 $p3" stylenumber="2"/>
  
  <point name="p4" stylenumber="3" x="-2" y="2.5">
<!--    <constraints><attractToGrid /></constraints> -->
  </point>

  <point name="p5" stylenumber="3" x="0" y="2.5">
    <constraints><attractToGrid /></constraints>
  </point>

  <point name="p6" stylenumber="3" x="2" y="2.5">
<!--    <constraints><attractToGrid /></constraints> -->
  </point>
  
  <parabola name="secondderiv" through="$p4 $p5 $p6" stylenumber="3"/>

</graph>

<p>
  One way to sketch <m>y = f'(x)</m> is to identify any <m>x</m>-values where <m>f'(x) \approx 0</m>, and then identify any <m>x</m>-values where <m>f'(x) \approx \pm 1</m> and drag the red points to the corresponding locations on what should be the graph of <m>y = f'(x)</m>.
</p>

<answer>
  <award matchPartial unorderedCompare allowedErrorInNumbers="0.2" allowedErrorIsAbsolute><when>($p1,$p2,$p3) = (<point>($p1.x,$$fP($p1.x))</point>, <point>($p2.x,$$fP($p2.x))</point>, <point>($p3.x,$$fP($p3.x))</point>)</when></award>
</answer>

<!--
<hint>
  <p>
    For what values of <m>x</m> is the derivative zero?  Move point(s) to make the graph of the derivative zero there.   For what values of <m>x</m> is the derivative maximally positive or maximally negative?  Can you estimate the value of the derivative at those points?  Move points(s) to make the graph of the derivative reach those values.
  </p>  
</hint>
-->

<p>
  Similarly, to sketch <m>y = f''(x)</m>, identify any <m>x</m>-values where <m>f''(x) \approx 0</m>, and then identify any <m>x</m>-values where <m>f''(x) \approx \pm 1</m> and drag the orange points to the corresponding locations on what should be the graph of <m>y = f'(x)</m>.
</p>

<answer>
  <award matchPartial unorderedCompare allowedErrorInNumbers="0.2" allowedErrorIsAbsolute><when>($p4,$p5,$p6) = (<point>($p4.x,$$fPP($p4.x))</point>, <point>($p5.x,$$fPP($p5.x))</point>, <point>($p6.x,$$fPP($p6.x))</point>)</when></award>
</answer>

<!-- testing
<p>
  <m>f''($p4.x) = <math simplify>$$fPP($p4.x)</math></m>; <m>f''($p5.x) = <math simplify>$$fPP($p5.x)</math></m>; <m>f''($p6.x) = <math simplify>$$fPP($p6.x)</math></m>
</p>  
-->

<!--
<solution>
The derivative is zero at <m>x=3</m> and <m>x=-3</m>.  It is positive for <m>-3 \lt  x \lt  3</m>.  The slope is maximally positive <m>x=0</m>.

<graph width='600' height='320' xmin="-5.5" xmax='5.5' ymin='-3' ymax='3' >

<copy tname="f" />

<point fixed stylenumber="2">(-3,0)</point>
<point fixed stylenumber="2">(0,1)</point>
<point fixed stylenumber="2">(3,0)</point>

<parabola fixed stylenumber='2' through="(-3,0) (0,1) (3,0)" />

</graph>

</solution>
-->
