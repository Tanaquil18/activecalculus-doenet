<!-- **********************************************************************-->
<!-- Copyright 2012-2025                                                   -->
<!-- Matthew Boelkins                                                      -->
<!--                                                                       -->
<!-- This file is part of Active Calculus.                                 -->
<!--                                                                       -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the Creative Commons BY-SA license.  The work      -->
<!-- may be used for free by any party so long as attribution is given to  -->
<!-- the author(s), the work and its derivatives are used in the spirit of -->
<!-- "share and share alike".  All trademarks are the registered marks of  -->
<!-- their respective owners.                                              -->
<!-- **********************************************************************-->

<!-- a preliminary version of this exercise was written by Weidai Sun after the 2024 Doenet workshop -->

<setup>
  <select name="s1" hide> 2 3 4 </select>
  <select name="s2" hide> 4 5 6 </select>
  <function name="f1"> -x^2/$s2 +2x </function>

  <number name="n1">$s1+4</number>
  <number name="a1"> 0.5*$$f1($s1)+0.5*$$f1($s1+0.5)+0.5*$$f1($s1+1)+0.5*$$f1($s1+1.5)+0.5*$$f1($s1+2)+0.5*$$f1($s1+2.5)+0.5*$$f1($s1+3)+0.5*$$f1($s1+3.5) 
  </number>  
  <number name="a2"> 0.5*$$f1($s1+0.5)+0.5*$$f1($s1+1)+0.5*$$f1($s1+1.5)+0.5*$$f1($s1+2)+0.5*$$f1($s1+2.5)+0.5*$$f1($s1+3)+0.5*$$f1($s1+3.5)+0.5*$$f1($s1+4) </number>
  <number name="A">-1/(3*$s2)*( ($s1+4)^3 - $s1^3 ) + ($s1+4)^2 - $s1^2</number>
  <number name="diff1">abs($A-$a1)</number>
  <number name="diff2">abs($A-$a2)</number>
  
  <conditionalContent name="group1"> 
      <case condition="$diff1 < 1"> not obviously greater, less, or equal to the exact area </case>
      <case condition="$a1 >= $A + 1"> an overestimate of the exact area </case>
      <case condition="$a1 <= $A - 1"> an underestimate of the exact area </case>
  </conditionalContent> 

  <conditionalContent name="group2"> 
      <case condition="$diff2 < 1"> not obviously greater, less, or equal to the exact area </case>
      <case condition="$a2 >= $A + 1"> an overestimate of the exact area </case>
      <case condition="$a2 <= $A - 1"> an underestimate of the exact area </case>
  </conditionalContent>  
  
</setup>
  
<p> 
  The rectangles in the first graph below illustrate a left endpoint Riemann sum for <me>f(x)=$f1</me> on the interval <m>[$s1, $n1]</m>. </p> 


<p> The numerical value of this left endpoint Riemann sum is <mathInput name="mp1" />
  <answer allowedErrorInNumbers="0.01" allowedErrorIsAbsolute><award><when>
    $mp1=$a1
  </when></award></answer>, and compared to the exact area under the curve on <m>[$s1, $n1]</m>, the left Riemann sum's value is <answer><choiceInput inline name="c1">
    <choice credit="$a1 > $A + 0.25"> an overestimate of the exact area </choice>
    <choice credit="$a1 = $A"> equal to the exact area </choice>
    <choice credit="$a1 < $A - 0.25"> an underestimate of the exact area </choice>
    <choice credit="$diff1 <= 0.25"> not obviously greater, less, or equal to the exact area </choice>
  </choiceInput></answer> 
  <!--
  area = $A, left=$a1, diff1=<math>$diff1</math>
  <answer><award><when>
    $c1=$group1
  </when></award></answer>. 
  -->
</p>
  <graph name="g1" xmin="-1" xmax="9" ymin="-1" ymax="9" showNavigation="false" fixAxes="true" size="medium"> 
    $f1
  <label fixed anchor="(4.5,8)"> Left endpoint Riemann sum for <m>f(x)=$f1</m> on <m>[$s1,$n1]</m> </label>
  <rectangle fixed name="rt1" vertices="($s1,0) ($s1+0.5,$$f1($s1))" styleNumber="3" filled/>
  <rectangle fixed name="rt2" vertices="($s1+0.5,0) ($s1+1,$$f1($s1+0.5))" styleNumber="3" filled/>
  <rectangle fixed name="rt3" vertices="($s1+1,0) ($s1+1.5,$$f1($s1+1))" styleNumber="3" filled/>
  <rectangle fixed name="rt4" vertices="($s1+1.5,0) ($s1+2,$$f1($s1+1.5))" styleNumber="3" filled/>
  <rectangle fixed name="rt5" vertices="($s1+2,0) ($s1+2.5,$$f1($s1+2))" styleNumber="3" filled/>
  <rectangle fixed name="rt6" vertices="($s1+2.5,0) ($s1+3,$$f1($s1+2.5))" styleNumber="3" filled/>
  <rectangle fixed name="rt7" vertices="($s1+3,0) ($s1+3.5,$$f1($s1+3))" styleNumber="3" filled/>
  <rectangle fixed name="rt8" vertices="($s1+3.5,0) ($s1+4,$$f1($s1+3.5))" styleNumber="3" filled/>
  </graph>

<graph name="g" showNavigation="false" showBorder="false" displayXAxis="false" displayYAxis="false" aspectRatio="10">
  <line styleNumber="5" through="(-8,0) (8,0)" />
</graph>

<p> The rectangles in the second graph below illustrate a right endpoint Riemann sum for <m>f(x)=$f1</m> on the interval <m>[$s1, $n1]</m>. </p> 


<p> The numerical value of this right endpoint Riemann sum is  <mathInput name="mp2" />
  <answer allowedErrorInNumbers="0.01" allowedErrorIsAbsolute><award><when>
    $mp2=$a2
  </when></award></answer>, and compared to the exact area under the curve on <m>[$s1, $n1]</m>, the right Riemann sum's value is <answer><choiceInput inline name="c2">
    <choice credit="$a2 > $A + 0.25"> an overestimate of the exact area </choice>
    <choice credit="$a2 = $A"> equal to the exact area </choice>
    <choice credit="$a2 < $A - 0.25"> an underestimate of the exact area </choice>
    <choice credit="$diff2 <= 0.25"> not obviously greater, less, or equal to the exact area </choice>
  </choiceInput></answer> .   
</p>  
  <graph name="g2" xmin="-1" xmax="9" ymin="-1" ymax="9" showNavigation="false" fixAxes="true" size="medium"> 
    $f1
  <label fixed anchor="(4.5,8)"> Left endpoint Riemann sum for <m>f(x)=$f1</m> on <m>[$s1,$n1]</m> </label>
  <rectangle fixed name="rt11" vertices="($s1,0) ($s1+0.5,$$f1($s1+0.5))" styleNumber="3" filled/>
  <rectangle fixed name="rt21" vertices="($s1+0.5,0) ($s1+1,$$f1($s1+1))" styleNumber="3" filled/>
  <rectangle fixed name="rt31" vertices="($s1+1,0) ($s1+1.5,$$f1($s1+1.5))" styleNumber="3" filled/>
  <rectangle fixed name="rt41" vertices="($s1+1.5,0) ($s1+2,$$f1($s1+2))" styleNumber="3" filled/>
  <rectangle fixed name="rt51" vertices="($s1+2,0) ($s1+2.5,$$f1($s1+2.5))" styleNumber="3" filled/>
  <rectangle fixed name="rt61" vertices="($s1+2.5,0) ($s1+3,$$f1($s1+3))" styleNumber="3" filled/>
  <rectangle fixed name="rt71" vertices="($s1+3,0) ($s1+3.5,$$f1($s1+3.5))" styleNumber="3" filled/>
  <rectangle fixed name="rt81" vertices="($s1+3.5,0) ($s1+4,$$f1($s1+4))" styleNumber="3" filled/>
  </graph>