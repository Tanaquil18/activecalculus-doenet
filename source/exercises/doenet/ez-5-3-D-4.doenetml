<!-- **********************************************************************-->
<!-- Copyright 2012-2025                                                   -->
<!-- Matthew Boelkins                                                      -->
<!--                                                                       -->
<!-- This file is part of Active Calculus.                                 -->
<!--                                                                       -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the Creative Commons BY-SA license.  The work      -->
<!-- may be used for free by any party so long as attribution is given to  -->
<!-- the author(s), the work and its derivatives are used in the spirit of -->
<!-- "share and share alike".  All trademarks are the registered marks of  -->
<!-- their respective owners.                                              -->
<!-- **********************************************************************-->

 <setup>
  <selectFromSequence name = "k" from = "4" to = "8" step = "1"/>
  <selectFromSequence name = "a" from = "3" to = "8" step = "1" exclude="$k ($k-1)"/>
  <selectFromSequence name = "b" from = "3" to = "8" step = "1" exclude="$k $a ($k-1)"/>

  <function name="c">x^($k-1)*(x^$k - $a)^$b</function>
  <function name="antiDx">1/$k*1/($b+1)*(x^$k - $a)^($b+1)</function>

  <function name="u">x^$k - $a</function>
  <function name="du">$k*x^($k-1)</function>

  <function name="uSubs" variable="u">1/$k*u^$b</function>
  <function name="antiDu" variable="u">1/$k*1/($b+1)*u^($b+1)</function>

  <boolean name="uSubsFound">$uSubs = $uSubsChoice</boolean>
   
</setup>

<p>
  Consider the indefinite integral <m>\int <math simplify>x^($k-1)</math> (x^$k - $a)^$b \, dx</m>.  
</p>
<p>  
  In the integrand, we notice that a composite function is present, and this suggests that we try to use <m>u</m>-substitution as a way to evaluate the integral by finding an antiderivative.  In what follows, we work to identify key algebraic structure that makes <m>u</m>-substitution possible.
</p>  

<p>
  The composite function that is present in the integrand is 
  <answer><choiceInput> 
    <choice credit="1"><m>(x^$k - $a)^$b</m></choice>
    <choice><m>x^$k - $a</m></choice>
    <choice><m>x^{<math simplify>$k-1</math>}</m></choice>
  </choiceInput></answer>
</p>  

<p>
  Next, we choose the inner function in the composite function to be <m>u</m>.  Fill in the following blanks to state both <m>u</m> and <m>du</m> as functions of <m>x</m>.
</p>  
<p>
  <m>u = </m><mathInput name="uChoice"/> <answer><award><when>$uChoice = $u</when></award></answer>
</p> 
<p>
  <m>du = </m><mathInput name="duChoice"/><m>dx</m> <answer><award><when>$duChoice = $du</when></award></answer>
</p>  

<p>
Now, notice that <m>du</m> is almost present in the integrand, up to a constant.  To see how to make the substitution from the variable <m>x</m> to the variable <m>u</m>, we next write <m>x^{<math simplify>$k-1</math>} \, dx</m> in terms of <m>u</m> and a constant.  Solve your most recent correct equation above for <m>x^{<math simplify>$k-1</math>} \, dx</m> and fill in the blank accordingly below
</p>  
<p>
  <m>x^{<math simplify>$k-1</math>} \, dx = </m><mathInput name="xkdxChoice"/><m>du</m> <answer><award><when>$xkdxChoice = 1/$k</when></award></answer>
</p>

<p>
    Now we can apply <m>u</m>-substitution to convert the original integral in <m>x</m> to a simpler integral in <m>u</m>.  Using our work above, we have 
</p>
<p>
  <m>\int <math simplify>x^($k-1)</math> (x^$k - $a)^$b \, dx = \int </m> <mathInput name="uSubsChoice"/> <m>\, du</m> <answer><award><when> $uSubs = $uSubsChoice</when></award></answer>
</p>  

<p hide="$uSubsFound">
  (<em>A final sequence of prompts will appear here after you correctly execute the <m>u</m>-substitution in the last step above.</em>)
</p>
<p hide="not $uSubsFound">
  <p>
    Finally, we evaluate the simpler integral in <m>u</m> and then substitute back to write our final result in terms of <m>x</m>.
  </p>
  <p>
    <m>\int <math simplify>x^($k-1)</math> (x^$k - $a)^$b \, dx = </m> <mathInput name="antiDuChoice"/> <m>+ C</m> <answer simplifyOnCompare><award><when> $antiDu = $antiDuChoice</when></award></answer> <m> = </m> <mathInput name="antiDxChoice"/> <m>+ C</m> <answer simplifyOnCompare><award><when> $antiDx = $antiDxChoice</when></award></answer>.  
  </p>  
</p>  
