
<!-- **********************************************************************-->
<!-- Copyright 2012-2025                                                   -->
<!-- Matthew Boelkins                                                      -->
<!--                                                                       -->
<!-- This file is part of Active Calculus.                                 -->
<!--                                                                       -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the Creative Commons BY-SA license.  The work      -->
<!-- may be used for free by any party so long as attribution is given to  -->
<!-- the author(s), the work and its derivatives are used in the spirit of -->
<!-- "share and share alike".  All trademarks are the registered marks of  -->
<!-- their respective owners.                                              -->
<!-- **********************************************************************-->

<!-- this preview activity was drafted by Hannah Burson at the 2024 Doenet workshop -->
<!-- significant changes and updates from MB in Fall 2025 -->

<setup>
  <boolean name = "cond"> $line.slope = -2</boolean>
  <function styleNumber="2" name = "e">(x^2)/2 - 2x + 1</function>
  <function styleNumber="2" name = "f" domain = "[-0.25,0.25]"> -2x + 1</function>
  <function styleNumber="2" name = "g" domain = "[.75,1.25]"> -1x + 0.5</function>
  <function styleNumber="2" name = "h" domain = "[1.75,2.25]"> -1 </function>
  <function styleNumber="2" name = "i" domain = "[2.75,3.25]"> 1x -3.5</function>
  <parabola name="parab" through = "$A $B $C" styleNumber = "1"/>
</setup>
<p>
  Let's consider the initial value problem
    <me>
      \frac{dy}{dt} = t - 2, \ \ y(0) = 1
    </me>
</p>

  <p>
    <ol marker="a.">
      <li>
        <p>
          Use the differential equation to find the slope of the tangent line to the solution <m>y(t)</m> at <m>t=0</m>.
        </p>
        <p>
          slope at <m>t=0</m>: <answer>-2</answer>
        </p>
        <p>
          Next, use the initial value to find the equation of the tangent line at <m>t=0</m>.
        </p>
        <p>
          equation of tangent line at <m>t=0</m>: <answer name='eq1'>y-1=-2t</answer>
        </p> 
        <feedback condition='$eq1=-2t+1'>It looks like you did not enter an equation of a line. Recall that an equation of a line involves <m>t</m>, <m>y</m>, and an equals sign.
        </feedback><feedback condition='$eq1=(y=-2x+1)'>It looks like you wrote an equation involving <m>x</m> instead of <m>t</m>. </feedback>        
        <p>
          Finally, in the graph below, sketch this tangent line at <m>t = 0</m> over the interval <m>-0.25 \leq t \leq 0.25</m> by dragging the two grey points to their correct locations.
        </p>       
      <graph size="medium" xMin="-.5" xMax="3.5" yMin="-1.5" yMax="2.5" showNavigation = "false" fixAxes grid="true" aspectRatio="1/1">
        <xLabel>t</xLabel>
        <yLabel>y</yLabel>
          $g
          $h
          $i            
        <point styleNumber = "6" name = "D">
          (0,2)
          <constraints name = "a4">
            <attractTo>
              $f
            </attractTo>
          </constraints>
        </point>
           
        <point styleNumber = "6" name = "E">(0.5,2.25)
         <constraints name = "a5">
           <attractTo>
             $f
           </attractTo>
         </constraints>
        </point>

        <lineSegment name = "line" endpoints = "$E $D" styleNumber = "5"/>

      </graph>
<p>
    coordinates of tangent line endpoints: <m>$line.endpoints</m>
    <answer>
      <award><when>
        <mathList>$line.endpoints</mathList>=<mathList unordered>(-0.25,1.5) (0.25,0.5)</mathList> 
      </when></award>
    </answer>
</p>

      </li>

      <li>
        <p>
          Also shown in the figure are the tangent lines to the solution <m>y(t)</m> at the points <m>t=1, 2</m>, and <m>3</m> (we will see how to find these later).
          Use the graph to measure the slope of each tangent line and verify that each agrees with the value specified by the differential equation.
        </p>
        <p>
          slope at <m>t=1</m>:
          <mathInput name="b1"></mathInput>
          <answer><award><when>$b1=-1</when></award></answer>
        </p>
        <p>
          slope at <m>t=2</m>:
          <mathInput name="b2"></mathInput>
          <answer><award><when>$b2=0</when></award></answer>
        </p>
        <p>
          slope at <m>t=3</m>:
          <mathInput name="b3"></mathInput>
          <answer><award><when>$b3=1</when></award></answer>
        </p>
      </li>

      <li>
        <p>
          Using the tangent lines as a guide, drag the three points to
          sketch a graph of the solution <m>y(t)</m> over the interval
          <m>0\leq t\leq 3</m> so that the lines are tangent to the graph of <m>y(t)</m>.
        </p>
        <graph size="medium" xMin="-.5" xMax="3.5" yMin="-1.5" yMax="2.5" showNavigation = "false" fixAxes grid="true" aspectRatio="1/1">
          <xLabel>t</xLabel>
          <yLabel>y</yLabel>
          <point name="A">(0.2,0)
            <constraints name="a1">
              <attractTo>
                $e
              </attractTo>
            </constraints>
          </point>

          <point name="B">(1.5,2.32)
            <constraints name="a2">
              <attractTo>
                $e
              </attractTo>
            </constraints>
          </point>
              
          <point name="C">(2.8,0)
            <constraints name="a3">
              <attractTo>
                $e
              </attractTo>
            </constraints>
          </point>
           $parab 
          <label anchor="(2.2,4*$parab.a+2*$parab.b+$parab.c+0.2)"><m>y(t)</m></label>
           $f
           $g
           $h
           $i
          
        </graph>
        <answer>
        <award><when>
            $a1.constraintUsed and $a3.constraintUsed and $a2.constraintUsed
        </when></award>
        </answer>
      </li>

      <li>
        <p>
          Use the Fundamental Theorem of Calculus to find <m>y(t)</m>, the solution to the initial value problem 
          <me>
            \frac{dy}{dt} = t - 2, \ \ y(0) = 1
          </me>
        </p>
        <p>
          <m>y(t) = </m><mathInput name="b4"></mathInput>
          <answer><award><when>$b4=(t^2)/2 - 2t + 1</when></award></answer>
          <feedback condition="$b4=1/2x^2-2x+1">Note that we want the function <m>y(t)</m>. It looks like you entered an expression for <m>y(x)</m>.</feedback>
        </p>
      </li>
      <li>
        <p>
          Once you've correctly answered parts (c) and (d), it's important to observe that the graphical and algebraic perspectives on the solution function <m>y(t)</m> agree.  Complete the following sentence to summarize some observations we can make.
        </p>
        <p>
          The solution <m>y(t)</m> to the initial value problem is a <choiceInput inline name="e1">
            <choice>?</choice>
            <choice>linear</choice>
            <choice>quadratic</choice>
            <choice>exponential</choice>
          </choiceInput> function whose vertex occurs at the point <choiceInput inline name="e2">
            <choice>?</choice>
            <choice>(0,1)</choice>
            <choice>(2,-1)</choice>
            <choice>(4,0)</choice>
          </choiceInput> where the solution function's slope is <choiceInput inline name="e3">
            <choice>?</choice>
            <choice>-1</choice>
            <choice>0</choice>
            <choice>1</choice>
          </choiceInput>, and indeed the solution function's slopes match those of each of the tangent lines that come from the given differential equation.
        </p>
        <p>
          <answer><award><when>$e1.selectedIndices=3 and $e2.selectedIndices=3 and $e3.selectedIndices=3 </when></award></answer>
        </p>
      </li>
    </ol>
  </p>